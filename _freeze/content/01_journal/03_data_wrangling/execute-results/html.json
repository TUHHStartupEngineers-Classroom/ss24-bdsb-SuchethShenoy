{
  "hash": "7fb284a79f7e5faa0cdcf21c470fbf3b",
  "result": {
    "markdown": "---\ntitle: \"Data Wrangling\"\nauthor: \"Sucheth Shenoy\"\n---\n\n\n# Load Libraries\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-1_29f3e72d2ab84bddfb07d5c74006759f'}\n\n```{.r .cell-code}\nlibrary(vroom)\nlibrary(data.table)\n```\n:::\n\n\n# Read Data from tsv to tibble\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-2_f4c4cac16460b3477b28c5d715967d50'}\n\n```{.r .cell-code}\npatent_tbl <- vroom(file=\"00_data/03_wrangling/Patent_data_reduced/patent.tsv\", delim=\"\\t\", na=c(\"\", \"NA\", \"NULL\"), show_col_types = FALSE)\nassignee_tbl <- vroom(file=\"00_data/03_wrangling/Patent_data_reduced/assignee.tsv\", delim=\"\\t\", na=c(\"\", \"NA\", \"NULL\"), show_col_types = FALSE)\npatent_assignee_tbl <- vroom(file=\"00_data/03_wrangling/Patent_data_reduced/patent_assignee.tsv\", delim=\"\\t\", na=c(\"\", \"NA\", \"NULL\"), show_col_types = FALSE)\nuspc_tbl <- vroom(file=\"00_data/03_wrangling/Patent_data_reduced/uspc.tsv\", delim=\"\\t\", na=c(\"\", \"NA\", \"NULL\"), show_col_types = FALSE)\n```\n:::\n\n\n# Convert tibbles to data.table\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-3_290ee04763ce7f7a3636ed56e114a734'}\n\n```{.r .cell-code}\npatent_dt <- as.data.table(patent_tbl)\nassignee_dt <- as.data.table(assignee_tbl)\npatent_assignee_dt <- as.data.table(patent_assignee_tbl)\nuspc_dt <- as.data.table(uspc_tbl)\n```\n:::\n\n\n# Patent Dominance\nList the 10 US companies with the most assigned/granted patents.\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-4_c3d198d940a4cdab77ef1394a680ac05'}\n\n```{.r .cell-code}\npatent_dominance_dt <- patent_assignee_dt[assignee_dt, on = .(assignee_id = id)][!is.na(organization)]\npatent_dominance_dt[, .(count = .N), by = organization][order(-count)][1:10]\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"organization\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"count\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"International Business Machines Corporation\",\"2\":\"7547\"},{\"1\":\"Samsung Electronics Co., Ltd.\",\"2\":\"5835\"},{\"1\":\"Canon Kabushiki Kaisha\",\"2\":\"4099\"},{\"1\":\"Sony Corporation\",\"2\":\"3326\"},{\"1\":\"Microsoft Corporation\",\"2\":\"3165\"},{\"1\":\"Google Inc.\",\"2\":\"2668\"},{\"1\":\"Kabushiki Kaisha Toshiba\",\"2\":\"2656\"},{\"1\":\"QUALCOMM Incorporated\",\"2\":\"2597\"},{\"1\":\"LG Electronics Inc.\",\"2\":\"2459\"},{\"1\":\"Panasonic Corporation\",\"2\":\"2218\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n# Recent Patent Activity\nList the top 10 companies with the most new granted patents for August 2014.\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-5_5f82588749ec635ac5209642bf38aa48'}\n\n```{.r .cell-code}\npatent_recent_activity_dt <- patent_dominance_dt[patent_dt, on = .(patent_id = id)][!is.na(organization)]\npatent_recent_activity_dt[format(date, \"%Y-%m\") == \"2014-08\", .(count = .N), by = organization][order(-count)][1:10]\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"organization\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"count\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"International Business Machines Corporation\",\"2\":\"718\"},{\"1\":\"Samsung Electronics Co., Ltd.\",\"2\":\"524\"},{\"1\":\"Canon Kabushiki Kaisha\",\"2\":\"361\"},{\"1\":\"Microsoft Corporation\",\"2\":\"337\"},{\"1\":\"Sony Corporation\",\"2\":\"269\"},{\"1\":\"Google Inc.\",\"2\":\"240\"},{\"1\":\"QUALCOMM Incorporated\",\"2\":\"223\"},{\"1\":\"Apple Inc.\",\"2\":\"222\"},{\"1\":\"Kabushiki Kaisha Toshiba\",\"2\":\"213\"},{\"1\":\"LG Electronics Inc.\",\"2\":\"211\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n# Innovation in Tech\nFor the top 10 companies (worldwide) with the most patents, what are the top 5 USPTO tech main classes?\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-6_fda1690a5fdaa5a13bf182e5cb188e1b'}\n\n```{.r .cell-code}\nuspc_dt[, patent_id := as.character(patent_id)]\ntop_organizations <- patent_dominance_dt[, .(count = .N), by = organization][order(-count)][1:10]$organization\n\npatent_innovation_dt <- patent_dominance_dt[uspc_dt, on = .(patent_id)][!is.na(organization)]\n\nresult_list <- list()\nfor (org in top_organizations) {\n  # Filter data for the current organization\n  org_data <- patent_innovation_dt[organization == org]\n  \n  # Calculate the top 5 mainclass_id for the current organization\n  top_mainclass <- org_data[, .(count = .N), by = mainclass_id][order(-count)][1:5]$mainclass_id\n  \n  # Store the result in the list\n  result_list[[org]] <- top_mainclass\n}\n\n# Create a matrix to hold the top 5 mainclass_id values for each organization\nresult_matrix <- matrix(NA_character_, nrow = 10, ncol = 5, dimnames = list(top_organizations, paste0(\"Top_Mainclass_\", 1:5)))\n\n# Fill in the matrix with the top 5 mainclass_id values for each organization\nfor (i in 1:length(result_list)) {\n  result_matrix[i, 1:length(result_list[[i]])] <- result_list[[i]]\n}\n\n# Convert the matrix to a data.table\nresult_dt <- data.table(organization = rownames(result_matrix), result_matrix)\nresult_dt\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"organization\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Top_Mainclass_1\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Top_Mainclass_2\"],\"name\":[3],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Top_Mainclass_3\"],\"name\":[4],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Top_Mainclass_4\"],\"name\":[5],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Top_Mainclass_5\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"International Business Machines Corporation\",\"2\":\"257\",\"3\":\"438\",\"4\":\"709\",\"5\":\"711\",\"6\":\"717\"},{\"1\":\"Samsung Electronics Co., Ltd.\",\"2\":\"257\",\"3\":\"455\",\"4\":\"370\",\"5\":\"438\",\"6\":\"365\"},{\"1\":\"Canon Kabushiki Kaisha\",\"2\":\"358\",\"3\":\"348\",\"4\":\"399\",\"5\":\"382\",\"6\":\"347\"},{\"1\":\"Sony Corporation\",\"2\":\"348\",\"3\":\"345\",\"4\":\"257\",\"5\":\"725\",\"6\":\"455\"},{\"1\":\"Microsoft Corporation\",\"2\":\"709\",\"3\":\"707\",\"4\":\"715\",\"5\":\"717\",\"6\":\"726\"},{\"1\":\"Google Inc.\",\"2\":\"707\",\"3\":\"709\",\"4\":\"715\",\"5\":\"382\",\"6\":\"455\"},{\"1\":\"Kabushiki Kaisha Toshiba\",\"2\":\"257\",\"3\":\"365\",\"4\":\"438\",\"5\":\"348\",\"6\":\"711\"},{\"1\":\"QUALCOMM Incorporated\",\"2\":\"455\",\"3\":\"370\",\"4\":\"375\",\"5\":\"709\",\"6\":\"257\"},{\"1\":\"LG Electronics Inc.\",\"2\":\"370\",\"3\":\"455\",\"4\":\"725\",\"5\":\"375\",\"6\":\"715\"},{\"1\":\"Panasonic Corporation\",\"2\":\"257\",\"3\":\"348\",\"4\":\"438\",\"5\":\"375\",\"6\":\"370\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}